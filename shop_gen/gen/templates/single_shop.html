{%  extends "base.html" %}
{% load item_filters %}

{% block content %}

<h1 style="text-align: center">{{ shop.name }}</h1>

<br/>
  
<div class="accordion" id="shopitems">
  {% for item in items %}
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-lg-4">
            <h4>{{ item.item.name }}</h4>
          </div>
          <div class="col-lg-1">
            <span class="badge rounded-pill text-bg-primary">Quantity | {{ item.quantity }}</span>
          </div>
          <div class="col-lg-1">
            <span class="badge rounded-pill text-bg-warning">Price | {{ item.item.price|price_to_price_string }}</span>
          </div>
          <div class="col-lg-1">
            <span class="badge rounded-pill text-bg-danger">Book | {{ item.item.sourcebook.abbreviation }}</span>
          </div>
          <div class="col-lg-1">
            <span class="badge rounded-pill text-bg-success">Rarity | {{ item.item.rarity|rarity_char_to_string }}</span>
          </div>
          <div class="col-lg-3"></div>
          <div class="col-lg-1">
             <button class="accordion-button collapsed"
                     type="button" data-bs-toggle="collapse"
                     data-bs-target="#collapse{{ item.item.id }}"
                     aria-expanded="false"
                     aria-controls="collapse{{ item.item.id }}"/>
          </div>
        </div>
      </div>
      <div class="collapse" id="collapse{{ item.item.id }}">
        <div class="card-footer">
          {{ item.item.description }}
        </div>
      </div>
    </div>
    <br/>
  {% endfor %}
</div>
{%  endblock %}